@using Tickest.Models.ViewModels;
@model TicketViewModel

@{
    Layout = "_Layout"; // Specify the layout to be used for this page
}

<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <!-- Menu -->
        <!-- / Menu -->
        <!-- Layout container -->
        <div class="layout-page">

            <!-- Content wrapper -->
            <div class="content-wrapper">
                <!-- Content -->
                <div class="container-xxl flex-grow-1 container-p-y">
                    <div class="row">
                        <!-- Basic -->
                        <div class="col-md-6">
                            <div class="card mb-4">
                                @using (Html.BeginForm("Cadastrar", "Ticket", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                {
                                    <h5 class="card-header">Crie um Ticket</h5>
                                    <div class="card-body demo-vertical-spacing demo-only-element">
                                        <div class="form-group">
                                            <label for="Titulo">Título:</label>
                                            <input type="text" asp-for="Titulo" class="form-control" placeholder="Descreva o título do ticket, por exemplo: 'Problema com o servidor'" />
                                            <span asp-validation-for="Titulo" class="text-danger"></span>
                                        </div>

                                        <div class="form-group">
                                            <label for="DataLimite">Data limite:</label>
                                            <input type="date" asp-for="DataLimite" min="@DateTime.Now.ToShortDateString()" max="@DateTime.Now.AddDays(5).ToShortDateString()" class="form-control" />
                                            <span asp-validation-for="DataLimite" class="text-danger"></span>
                                        </div>

                                        <div class="form-group">
                                            <label for="TicketPrioridadeSelecionado">Prioridade:</label>
                                            @Html.DropDownListFor(model => model.TicketPrioridadeSelecionado, new SelectList(Model.TicketPrioridades, "Valor", "Descricao"), "Selecione uma prioridade", new { @class = "form-control" })
                                        </div>

                                        <div class="form-group">
                                            <label for="Descricao">Descrição:</label>
                                            <textarea id="Descricao" name="Descricao" class="form-control" placeholder="Forneça uma descrição detalhada do ticket, incluindo informações relevantes" required></textarea>
                                            <span asp-validation-for="Descricao" class="text-danger"></span>
                                        </div>

                                        <div class="form-group">
                                            <label for="DepartamentoSelectionado">Departamento:</label>
                                            @Html.DropDownListFor(model => model.DepartamentoSelectionado, new SelectList(Model.Departamentos, "Id", "Nome"), "Selecione o departamento responsável pelo ticket", new { @class = "form-control" })
                                        </div>

                                        <div class="form-group">
                                            <label for="Solicitante">Solicitante:</label>
                                            <input type="text" asp-for="Solicitante" class="form-control" placeholder="Informe o nome da pessoa que está solicitando assistência" />
                                            <span asp-validation-for="Solicitante" class="text-danger"></span>
                                        </div>

                                        <div class="form-group">
                                            <label for="Anexo">Anexo:</label>
                                            <input type="file" asp-for="Anexo" class="form-control" placeholder="Adicione anexos, como fotos, vídeos, documentos ou informações de contato" />
                                            <span asp-validation-for="Anexo" class="text-danger"></span>
                                        </div>

                                            <button type="submit" value="Form" class="btn btn-primary mt-3">Enviar</button>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                    <!-- Footer -->
                    <footer class="text-center py-3">
                        <p>&copy; <script>document.write(new Date().getFullYear())</script> RCV Tech. Todos os direitos reservados.</p>
                    </footer>
                    <!-- / Footer -->
                    <div class="content-backdrop fade"></div>
                </div>
            </div>
        </div>
        <!-- Overlay -->
        <div class="layout-overlay layout-menu-toggle"></div>
    </div>
</div>
